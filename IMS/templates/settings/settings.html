{% extends 'base/base.html' %}

{% block content %}
<button id="change-password-btn" 
        class="btn btn-primary" 
        style="background:linear-gradient(90deg,#4f46e5,#6366f1); 
               color:#fff; 
               padding:10px 20px; 
               border:none; 
               border-radius:8px; 
               font-size:16px; 
               font-weight:600; 
               cursor:pointer; 
               box-shadow:0 4px 6px rgba(0,0,0,0.1); 
               transition:0.3s;">
    Change Password
</button>

<!-- Change Password Modal -->
<div id="change-password-modal" 
     style="display:none; 
            position:fixed; 
            top:50%; 
            left:50%; 
            transform: translate(-50%, -50%); 
            background:#fff; 
            border-radius:12px; 
            padding:25px 30px; 
            z-index:1000; 
            box-shadow:0 8px 20px rgba(0,0,0,0.2); 
            width:350px; 
            font-family:Arial, sans-serif;">

    <h3 style="margin:0 0 20px; 
               font-size:20px; 
               text-align:center; 
               color:#4f46e5;">
        Change Password
    </h3>

    <form id="change-password-form" style="display:flex; flex-direction:column; gap:15px;">
        <div>
  <label for="staff_id" style="font-weight:600; color:#374151;">Staff ID:</label><br>
  <input type="text" id="staff_id" name="staff_id" required style="width:100%; padding:8px 10px; border:1px solid #ccc; border-radius:6px;">
</div>


        <div>
            <label for="old_password" style="font-weight:600; color:#374151;">Old Password:</label><br>
            <input type="password" id="old_password" name="old_password" required
                   style="width:100%; 
                          padding:8px 10px; 
                          border:1px solid #ccc; 
                          border-radius:6px; 
                          outline:none; 
                          transition:0.3s;">
        </div>

        <div>
            <label for="new_password" style="font-weight:600; color:#374151;">New Password:</label><br>
            <input type="password" id="new_password" name="new_password" required
                   style="width:100%; 
                          padding:8px 10px; 
                          border:1px solid #ccc; 
                          border-radius:6px; 
                          outline:none; 
                          transition:0.3s;">
        </div>

        <div style="display:flex; justify-content:space-between; margin-top:10px;">
            <button type="submit" 
                    style="background:#4f46e5; 
                           color:#fff; 
                           padding:8px 16px; 
                           border:none; 
                           border-radius:6px; 
                           cursor:pointer; 
                           font-weight:600; 
                           transition:0.3s;">
                Submit
            </button>
            <button type="button" id="close-modal-btn" 
                    style="background:#ef4444; 
                           color:#fff; 
                           padding:8px 16px; 
                           border:none; 
                           border-radius:6px; 
                           cursor:pointer; 
                           font-weight:600; 
                           transition:0.3s;">
                Cancel
            </button>
        </div>
    </form>

    <div id="change-password-message" 
         style="color:red; 
                margin-top:12px; 
                font-size:14px; 
                text-align:center;">
    </div>
</div>
<label>
  <input type="checkbox" id="toggle-reports-menu" />
  Show Reports menu
</label>

{{ role|default:"null"|json_script:"userRole" }}

{% load static %}
<script>
    const changePasswordUrl = "{% url 'settings:change_password' %}";
    const csrftoken = "{{ csrf_token }}";
</script>


<script src="{% static 'js/settings.js' %}"></script>

{% endblock %}
